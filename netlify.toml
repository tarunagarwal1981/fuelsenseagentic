# Netlify Configuration for FuelSense 360
# This configures Netlify to build from the frontend folder

[build]
  # Set base directory to frontend folder
  # IMPORTANT: Make sure the 'frontend' folder is committed to your git repository
  base = "frontend"
  # Build command (runs from frontend directory)
  command = "cd frontend && npm install && npm run build"
  # Publish directory (Next.js output)
  publish = "frontend/.next"

# Next.js plugin for optimal Next.js deployment
[[plugins]]
  package = "@netlify/plugin-nextjs"

# Build environment variables
[build.environment]
  NODE_VERSION = "20"
  # Next.js specific
  NEXT_TELEMETRY_DISABLED = "1"

# Environment variables to set in Netlify Dashboard:
# Required:
# - ANTHROPIC_API_KEY (your Anthropic API key)
# Optional:
# - LANGCHAIN_API_KEY (for LangSmith monitoring)
# - LANGCHAIN_TRACING_V2=true
# - LANGCHAIN_PROJECT=fuelsense-360
# - LLM_MODEL (defaults to claude-sonnet-4-20250514)

# API Routes Configuration
# All API routes are automatically handled by Next.js
# Available endpoints:
# - /api/chat (legacy single-agent)
# - /api/chat-langgraph (single-agent LangGraph)
# - /api/chat-multi-agent (multi-agent system) [NEW]
# - /api/test-* (testing endpoints, can be disabled in production)

